<!DOCTYPE html>
<html>
  <head>
    <!-- Init metadata -->
    <meta charset="UTF-8" />
    <!-- user-scalable=no prevents double click to zoom on phones!!! -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Better Boids</title>

    <!-- Defining "urgent" css styles that I want to guarentee render in, hence why they are referenced in the header -->
    <!-- Other less "urgent" attr's of body are modified in the .css file it appears in -->
    <style>
      body {
        margin: 0;
        padding: 0;
        position: relative;
        background-color: black;
        background-image: url("webps/Boids_Background.webp");
        background-repeat: repeat-y; /* Repeat the image vertically */
        background-position: top center; /* position relative to the top or center */
        background-size: 100% auto; /* Auto width, 100% height */
      }
    </style>

    <link
      rel="icon"
      href="../../Shared-General-Assets/webps/Mars_circle_logo_small.webp"
    />

    <!-- Set up css files used -->
    <link
      rel="stylesheet"
      href="../../Shared-General-Assets/css/general-shared-styles.css"
    />
    <link
      rel="stylesheet"
      href="../Shared-Game-Assets/css/games-shared-styles.css"
    />
    <link rel="stylesheet" href="css/boids-sliders-and-toggle.css" />
    <link rel="stylesheet" href="css/settings-panel-styles.css" />
    <link rel="stylesheet" href="css/better-boids-styles.css" />
  </head>
  <body class="disable-browser-default-touch-actions">
    <!-- Screen starts black with a loading screen and fades when page is openned -->
    <div
      class="game-load-in-overlay overlay-styler disable-browser-default-touch-actions"
    >
      <div
        class="loading-content overlay-styler disable-browser-default-touch-actions"
      >
        <img
          src="../../Shared-General-Assets/webps/Mars_circle.webp"
          alt="Loading Image"
          class="disable-browser-default-touch-actions"
        />
        <p>Loading...</p>
      </div>
    </div>

    <!-- Include the non-module scripts used -->
    <script src="../Shared-Game-Assets/js/game_header.js"></script>
    <script src="../Libraries/phaser.js"></script>

    <!-- Call JS functions (using module so that we can import and call modules) -->
    <script type="module">
      // Import modules
      import { LaunchGame } from "./js/game.js";
      import { addBoidSettings } from "./js/boid-settings.js";
      import { addInfoBox } from "../Better-Boids-Game/js/info_box.js";
      import { fixTouchHover } from "../../Shared-General-Assets/js/fix-touch-hover.js";

      // Wait for window (aka all content) to load in before calling functions
      window.onload = function () {
        createGameHeader(
          "better boids",
          "webps/better_boids_logo.webp",
          76, // gameLogoContainerLeftMarginPercentageComputer
          61, // gameLogoContainerLeftMarginPercentagePhone
          65, // gameTitleXShiftPercentage
          -100 // gameTitleYShiftPercentage
        );
        addBoidSettings();
        addInfoBox();
        LaunchGame();
        fixTouchHover();
      };
    </script>
  </body>
</html>
